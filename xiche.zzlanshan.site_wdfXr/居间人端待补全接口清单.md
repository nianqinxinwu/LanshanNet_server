# å±…é—´äººç«¯ â€” å¾…è¡¥å…¨åç«¯æ¥å£æ¸…å•

> å‰ç«¯ä¸šåŠ¡é€»è¾‘å·²å®Œæˆï¼Œä½†åç«¯å°šæœªå¼€å‘å¯¹åº” API æ¥å£çš„åŠŸèƒ½æ±‡æ€»ã€‚
> ç”Ÿæˆæ—¶é—´: 2026-02-08
> æ›´æ–°æ—¶é—´: 2026-02-10ï¼ˆæºç å®¡æŸ¥åæ ‡æ³¨å·²å®ç°æ¥å£ + æ–°å¢3ä¸ªæ¥å£ï¼‰
> åŸºäºå‰ç«¯é¡¹ç›®: `xiche111` (UniApp)
> å·²æœ‰åç«¯æ¥å£: 33 ä¸ªï¼ˆè¯¦è§ `å±…é—´äººç«¯APIæ¥å£æ¸…å•.md`ï¼‰

---

## ä¸€ã€ç‰©æµè·Ÿè¸ªä¸éªŒè´§ç®¡ç†

**æ‰€å±é¡µé¢**: `pages/jj/jj_logistics/jj_logistics.vue`

### 1.1 è·å–ç‰©æµè¯¦æƒ…ï¼ˆå«æ—¶é—´çº¿ï¼‰

> âœ… å·²å®ç° â€” `JjOrder::logistics`ï¼ˆè·¯ç”±: `GET xiluxc.jj_order/logistics`ï¼‰

- **å‰ç«¯è°ƒç”¨ä½ç½®**: `jj_logistics.vue:206`
- **å®é™…è·¯ç”±**: `GET xiluxc.jj_order/logistics`ï¼ˆå‰ç«¯è°ƒç”¨è·¯å¾„æ­£ç¡®ï¼Œæ¥å£å·²å­˜åœ¨ï¼‰
- **å…³è”è¡¨**: `fa_jj_logistics`, `fa_jj_order`

### 1.2 ä¸Šä¼ éªŒè´§å•/æ”¶è´§ç¡®è®¤

> âœ… å·²å®ç° â€” `JjOrder::upload_checklist`ï¼ˆè·¯ç”±: `POST xiluxc.jj_order/upload_checklist`ï¼‰

- **å‰ç«¯è°ƒç”¨ä½ç½®**: `jj_logistics.vue:290`
- **å®é™…è·¯ç”±**: `POST xiluxc.jj_order/upload_checklist`ï¼ˆå‰ç«¯è°ƒç”¨è·¯å¾„æ­£ç¡®ï¼Œæ¥å£å·²å­˜åœ¨ï¼‰
- **å…³è”è¡¨**: `fa_jj_logistics`, `fa_jj_order_log`

---

## äºŒã€ç”¨æˆ·èµ„æ–™ç®¡ç†

**æ‰€å±é¡µé¢**: `pages/jj/jj_settings/jj_settings.vue`

### 2.1 æ›´æ–°ç”¨æˆ·èµ„æ–™ï¼ˆå¤´åƒ/æ˜µç§°ï¼‰

> âœ… å·²å®ç° â€” `User::profile` POST æ–¹æ³•

- **å‰ç«¯è°ƒç”¨ä½ç½®**: `jj_settings.vue:238`
- **å®é™…è·¯ç”±**: `POST xiluxc.user/profile`
- **å…³è”è¡¨**: `fa_user`

---

## ä¸‰ã€åˆ†é”€æ¨å¹¿åŠŸèƒ½

**æ‰€å±é¡µé¢**: `pages/jj/jj_distribution/jj_distribution.vue`

### 3.1 ç”Ÿæˆé‚€è¯·æµ·æŠ¥

> ğŸ†• æœ¬æ¬¡æ–°å¢ â€” `JjDistribution::poster`ï¼ˆè·¯ç”±: `GET xiluxc.jj_distribution/poster`ï¼‰

- **å‰ç«¯è°ƒç”¨ä½ç½®**: `jj_distribution.vue:125`
- **å…¥å‚**: æ— ï¼ˆä½¿ç”¨å½“å‰ç™»å½•ç”¨æˆ·çš„é‚€è¯·ç ï¼‰
- **å‡ºå‚**:
  ```json
  {
    "code": 1,
    "data": {
      "invite_code": "LwhHnN6M",
      "invite_url": "https://xxx/pages/login/login?invite_code=LwhHnN6M",
      "nickname": "é‡è¯†ä¸–ç•Œ",
      "avatar": "https://xxx/avatar.jpg"
    }
  }
  ```
- **å…³è”è¡¨**: `fa_jj_agent_profile`, `fa_user`
- **ä¸šåŠ¡è¯´æ˜**: è¿”å›æµ·æŠ¥æ‰€éœ€ç´ ææ•°æ®ï¼ˆé‚€è¯·ç ã€é“¾æ¥ã€ç”¨æˆ·ä¿¡æ¯ï¼‰ï¼Œå‰ç«¯å¯ç”¨ canvas åˆæˆæˆ–ç›´æ¥å±•ç¤ºã€‚

---

## å››ã€å¿ƒæ„¿ç›®æ ‡ç®¡ç†

**æ‰€å±é¡µé¢**: `pages/jj/jj_wish/jj_wish.vue`

### 4.1 å†å²ç›®æ ‡åˆ—è¡¨

> ğŸ†• æœ¬æ¬¡æ–°å¢ â€” `JjWish::history`ï¼ˆè·¯ç”±: `GET xiluxc.jj_wish/history`ï¼‰

- **å‰ç«¯è°ƒç”¨ä½ç½®**: `jj_wish.vue` æ¨¡æ¿ç¬¬ 87-104 è¡Œï¼ˆå†å²ç›®æ ‡åŒºåŸŸï¼‰
- **å…¥å‚**:
  | å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
  |------|------|------|------|
  | page | int | å¦ | é¡µç  |
  | pagesize | int | å¦ | æ¯é¡µæ•°é‡ |
- **å‡ºå‚**:
  ```json
  {
    "code": 1,
    "data": {
      "total": 5,
      "data": [
        {"id": 1, "type": "income", "target_amount": "8000.00", "period": "2026å¹´1æœˆ", "achieved": true},
        {"id": 2, "type": "order", "target_amount": "10", "period": "2025å¹´12æœˆ", "achieved": false}
      ]
    }
  }
  ```
- **å…³è”è¡¨**: `fa_jj_wish_goal`ï¼ˆstatus<>0 å³éè¿›è¡Œä¸­ï¼‰

### 4.2 åˆ é™¤/å–æ¶ˆå½“å‰ç›®æ ‡

- **å»ºè®®è·¯ç”±**: `POST xiluxc.jj_wish/cancel_goal`
- **å‰ç«¯è°ƒç”¨ä½ç½®**: å½“å‰å‰ç«¯æœªå®ç°å–æ¶ˆæŒ‰é’®ï¼Œä½†ä¸šåŠ¡ä¸Šéœ€è¦
- **å½“å‰çŠ¶æ€**: ç”¨æˆ·åªèƒ½é€šè¿‡ã€Œä¿®æ”¹ç›®æ ‡ã€è¦†ç›–ï¼Œæ— æ³•ç›´æ¥å–æ¶ˆ
- **ä¼˜å…ˆçº§**: P3 å¯é€‰ï¼Œå½“å‰å¯é€šè¿‡è®¾å®šæ–°ç›®æ ‡æ›¿ä»£

---

## äº”ã€ç«æ ‡ç®¡ç†æ‰©å±•

**æ‰€å±é¡µé¢**: `pages/jj/jj_bid_publish/jj_bid_publish.vue`

### 5.1 ç«æ ‡è‰ç¨¿ä¿å­˜

- **å»ºè®®è·¯ç”±**: `POST xiluxc.jj_bid/save_draft`
- **å½“å‰çŠ¶æ€**: å‰ç«¯æœ‰å®Œæ•´çš„å¤šæ­¥è¡¨å•ï¼Œä½†ä¸­é€”é€€å‡ºæ•°æ®ä¸¢å¤±
- **ä¼˜å…ˆçº§**: P2 ä½

### 5.2 å·¥å‚åˆ—è¡¨é«˜çº§ç­›é€‰

> âœ… å·²å®ç° â€” `JjBid::factory_list` å·²æ”¯æŒ province/industry ç­›é€‰å‚æ•°

- **å®é™…è·¯ç”±**: `GET xiluxc.jj_bid/factory_list`ï¼ˆå·²æ”¯æŒ provinceã€industry å‚æ•°ï¼‰

---

## å…­ã€çº¢åŒ…ä½¿ç”¨

**æ‰€å±é¡µé¢**: `pages/jj/jj_red_packet/jj_red_packet.vue`

### 6.1 çº¢åŒ…æŠµæ‰£ä¿è¯é‡‘

> ğŸ†• æœ¬æ¬¡æ–°å¢ â€” `JjRedPacket::redeem`ï¼ˆè·¯ç”±: `POST xiluxc.jj_red_packet/redeem`ï¼‰

- **å…¥å‚**:
  | å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
  |------|------|------|------|
  | deposit_id | int | æ˜¯ | ä¿è¯é‡‘è®°å½•ID |
  | red_packet_ids | array | æ˜¯ | ä½¿ç”¨çš„çº¢åŒ…IDåˆ—è¡¨ |
- **å‡ºå‚**:
  ```json
  {
    "code": 1,
    "data": {
      "deducted_amount": "100.00",
      "remaining_amount": "1900.00"
    }
  }
  ```
- **å…³è”è¡¨**: `fa_jj_red_packet`, `fa_jj_deposit`
- **æ•°æ®åº“å˜æ›´**: `fa_jj_red_packet` æ–°å¢ `used`ã€`used_deposit_id` å­—æ®µï¼›`fa_jj_deposit` æ–°å¢ `red_packet_deduct` å­—æ®µ

---

## ä¸ƒã€åˆåŒç®¡ç†å®Œå–„

**æ‰€å±é¡µé¢**: `pages/jj/jj_contract/jj_contract.vue`

### 7.1 åˆåŒç­¾ç½²ç¡®è®¤

> âœ… å·²å®ç° â€” `JjOrder::submit_contract` åŒ…å«åˆåŒæäº¤ä¸çŠ¶æ€æ¨è¿›é€»è¾‘

- **å®é™…è·¯ç”±**: `POST xiluxc.jj_order/submit_contract`
- **ä¸šåŠ¡è¯´æ˜**: åˆåŒä¸Šä¼ åé€šè¿‡ `submit_contract` æ¥å£æäº¤ï¼Œè®¢å•çŠ¶æ€è‡ªåŠ¨ä»ã€Œå¾…ä¸Šä¼ åˆåŒã€æ¨è¿›åˆ°ã€Œå±¥çº¦æ‰§è¡Œä¸­ã€ã€‚

---

## ä¼˜å…ˆçº§æ’åºï¼ˆæ›´æ–°åï¼‰

| ä¼˜å…ˆçº§ | æ¥å£ | çŠ¶æ€ |
|--------|------|------|
| ~~P0 é«˜~~ | ~~ç‰©æµè¯¦æƒ…æŸ¥è¯¢~~ | âœ… å·²å®ç° (`JjOrder::logistics`) |
| ~~P0 é«˜~~ | ~~éªŒè´§å•ä¸Šä¼ ~~ | âœ… å·²å®ç° (`JjOrder::upload_checklist`) |
| ~~P1 ä¸­~~ | ~~ç”¨æˆ·èµ„æ–™æ›´æ–°~~ | âœ… å·²å®ç° (`User::profile POST`) |
| **P1 ä¸­** | å†å²ç›®æ ‡åˆ—è¡¨ | ğŸ†• æœ¬æ¬¡æ–°å¢ (`JjWish::history`) |
| **P1 ä¸­** | çº¢åŒ…æŠµæ‰£ä¿è¯é‡‘ | ğŸ†• æœ¬æ¬¡æ–°å¢ (`JjRedPacket::redeem`) |
| **P2 ä½** | é‚€è¯·æµ·æŠ¥æ•°æ® | ğŸ†• æœ¬æ¬¡æ–°å¢ (`JjDistribution::poster`) |
| **P2 ä½** | ç«æ ‡è‰ç¨¿ä¿å­˜ | å¾…å¼€å‘ |
| ~~P2 ä½~~ | ~~å·¥å‚åˆ—è¡¨é«˜çº§ç­›é€‰~~ | âœ… å·²å®ç° (`JjBid::factory_list`) |
| ~~P2 ä½~~ | ~~åˆåŒç­¾ç½²ç¡®è®¤~~ | âœ… å·²å®ç° (`JjOrder::submit_contract`) |
| **P3 å¯é€‰** | å–æ¶ˆç›®æ ‡ | å¾…å¼€å‘ï¼ˆå¯é€šè¿‡ä¿®æ”¹ç›®æ ‡æ›¿ä»£ï¼‰ |

---

## å¤‡æ³¨

- æ‰€æœ‰æ¥å£å‡éœ€ Header ä¼  `token` è®¤è¯
- è¿”å›æ ¼å¼ç»Ÿä¸€: `{"code": 1, "msg": "", "time": "timestamp", "data": {...}}`
- åˆ†é¡µæ¥å£ç»Ÿä¸€ä½¿ç”¨ ThinkPHP paginate: `{"total", "per_page", "current_page", "data": [...]}`
- æµ‹è¯•è´¦å·: æ‰‹æœºå· 17200475197, éªŒè¯ç ç™½åå• 123456
